{% extends "dashboard/base_dashboard.html" %}

{% block dashboard_content %}
<h2>ğŸ“Š Å tatistiky objednÃ¡vok</h2>

<div class="mb-4 d-flex gap-2">
    <a href="{% url 'dashboard:charts_pdf' %}" class="btn btn-danger">
        â¬‡ï¸ StiahnuÅ¥ PDF report
    </a>
</div>

<hr>

<h4>ğŸ“¦ PoÄet objednÃ¡vok podÄ¾a dnÃ­</h4>
<canvas id="ordersChart" height="120"></canvas>

<hr class="my-5">

<h4>ğŸ’° TrÅ¾by podÄ¾a dnÃ­ (â‚¬)</h4>
<canvas id="revenueChart" height="120"></canvas>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const labels = {{ labels|safe }};
    const ordersData = {{ orders_data|safe }};
    const revenueData = {{ revenue_data|safe }};

    const ordersChart = new Chart(document.getElementById('ordersChart'), {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'PoÄet objednÃ¡vok',
                data: ordersData,
                tension: 0.3,
                fill: true
            }]
        },
        options: { responsive: true }
    });

    const revenueChart = new Chart(document.getElementById('revenueChart'), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{ label: 'TrÅ¾by (â‚¬)', data: revenueData }]
        },
        options: { responsive: true }
    });
</script>
{% endblock %}
