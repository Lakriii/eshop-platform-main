<!-- dashboard/templates/dashboard/charts.html -->
{% extends "dashboard/base_dashboard.html" %}

{% block dashboard_content %}
<h2>Å tatistiky objednÃ¡vok</h2>

<hr>

<h4>ğŸ“¦ PoÄet objednÃ¡vok podÄ¾a dnÃ­</h4>
<canvas id="ordersChart" height="100"></canvas>

<hr class="my-5">

<h4>ğŸ’° TrÅ¾by podÄ¾a dnÃ­ (â‚¬)</h4>
<canvas id="revenueChart" height="100"></canvas>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const labels = {{ labels|safe }};
    const ordersData = {{ orders_data|safe }};
    const revenueData = {{ revenue_data|safe }};

    // GRAF 1 â€“ POÄŒET OBJEDNÃVOK
    new Chart(document.getElementById('ordersChart'), {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'PoÄet objednÃ¡vok',
                data: ordersData,
                tension: 0.3,
                fill: true
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: { stepSize: 1 }
                }
            }
        }
    });

    // GRAF 2 â€“ TRÅ½BY
    new Chart(document.getElementById('revenueChart'), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: 'TrÅ¾by (â‚¬)',
                data: revenueData
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
{% endblock %}
